"use strict";if(window.addResizeListener&&window.removeResizeListener&&window.hasResizeListener||!function(){function a(a){return window.setTimeout(a,33)}function b(b){var c=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||a;return c(b)}function c(a){var b=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitRequestAnimationFrame||window.clearTimeout;return b(a)}function d(a,b){for(var c=a.$resizeTrigger,d=c.$resizeListeners,e=0,f=d.length,g=d[e];f>e;++e,g=d[e])g.call(c,b)}function e(a){var e=a.target||a.srcElement;e.$resizeRAF&&c(e.$resizeRAF),e.$resizeRAF=b(function(){return d(e,a)})}function f(){this.contentDocument.defaultView.$resizeTrigger=this.$resizeElement,this.contentDocument.defaultView.addEventListener("resize",e)}function g(a){var b,c;b="display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; pointer-events: none; z-index: -1;",c=document.createElement("object"),c.setAttribute("style",b),c.$resizeElement=a,c.onload=f,c.type="text/html",c.data="about:blank",a.$resizeTrigger=c,a.appendChild(c)}window.addResizeListener=function(a,b){var c;a.$resizeListeners||(a.$resizeListeners=[],a.style.position="relative",g(a)),c=a.$resizeListeners.indexOf(b),-1==c&&a.$resizeListeners.push(b)},window.removeResizeListener=function(a,b){var c;a.$resizeListeners.length&&(c=a.$resizeListeners.indexOf(b),c>=0&&a.$resizeListeners.splice(c,1)),a.$resizeListeners.length||(a.$resizeTrigger.contentDocument.defaultView.removeEventListener("resize",e),a.removeChild(a.$resizeTrigger),delete a.$resizeTrigger,delete a.$resizeListeners)}}(),!window.Perffect){window.Perffect=!0;var Perffect=function(){function a(a,b,c,d){this.container=a,this.selector=b,this.gutter=c,this.elements=null,this.$arrangePointer=this.arrange.bind(this),this.started=!1,d||this.rearrange()}return a.prototype.lazyLayout=function(){clearTimeout(this.timeout),this.timeout=setTimeout(function(){this.arrange()}.bind(this),300)},a.prototype.rearrange=function(){this.started?this.dettachEvents():(window.addEventListener("resize",this.lazyLayout.bind(this)),this.started=!0),this.refresh(),this.attachEvents(),this.layout()},a.prototype.attachEvents=function(){for(var a=0,b=this.elements.length,c=this.elements.item(a);b>a;a++,c=this.elements.item(a))addResizeListener(c,this.$arrangePointer)},a.prototype.dettachEvents=function(){for(var a=0,b=this.elements.length,c=this.elements.item(a);b>a;a++,c=this.elements.item(a))removeResizeListener(c,this.$arrangePointer)},a.prototype.arrange=function(){this.refresh(),this.layout()},a.prototype.refresh=function(){this.elements=this.container.querySelectorAll(this.selector),this.container.style.position="relative",this.container.style.width="auto",this.container.style.marginLeft="auto",this.container.style.marginRight="auto"},a.prototype.layout=function(){var a,b,c,d,e,f;c=this.elements.item(0).offsetWidth,e=Math.trunc(this.container.offsetWidth/(c+this.gutter)),f=this.elements.length>e?e:this.elements.length,a=f*c+(f-1)*this.gutter,d=new Array(e);for(var g=0;e>g;g++)d[g]=0;for(var g=0,h=0,b=0,i=this.elements.length,j=this.elements.item(g);i>g;++g,h=(h+1)%e,j=this.elements.item(g)){var k,l;k=h*c,h>0&&(k+=h*this.gutter),l=0|d[h],j.style.position="absolute",j.style.left=k+"px",j.style.top=l+"px",d[h]+=j.offsetHeight+this.gutter,d[h]>b&&(b=d[h])}b-=this.gutter,this.container.style.height=b+"px",this.container.style.width=a+"px"},a}()}