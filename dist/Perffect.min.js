if(!window.Perffect){window.Perffect=!0;var Perffect=function(){function a(a,b,c,d){this.container=a,this.selector=b,this.gutter=c,this.elements=null,this.$arrangePointer=this.arrange.bind(this),this.started=!1,d||this.rearrange()}return a.prototype.lazyLayout=function(){clearTimeout(this.timeout),this.timeout=setTimeout(function(){this.arrange()}.bind(this),300)},a.prototype.rearrange=function(){this.started?this.dettachEvents():(window.addEventListener("resize",this.lazyLayout.bind(this)),this.started=!0),this.refresh(),this.attachEvents(),this.layout()},a.prototype.attachEvents=function(){for(var a=0,b=this.elements.length,c=this.elements.item(a);b>a;a++,c=this.elements.item(a))Resizer.add(c,this.$arrangePointer)},a.prototype.dettachEvents=function(){for(var a=0,b=this.elements.length,c=this.elements.item(a);b>a;a++,c=this.elements.item(a))Resizer.rm(c,this.$arrangePointer)},a.prototype.arrange=function(){this.refresh(),this.layout()},a.prototype.refresh=function(){this.elements=this.container.querySelectorAll(this.selector),this.container.style.position="relative",this.container.style.width="auto",this.container.style.marginLeft="auto",this.container.style.marginRight="auto"},a.prototype.layout=function(){var a,b,c,d,e,f;c=this.elements.item(0).offsetWidth,e=Math.trunc(this.container.offsetWidth/(c+this.gutter)),f=this.elements.length>e?e:this.elements.length,a=f*c+(f-1)*this.gutter,d=new Array(e);for(var g=0;e>g;g++)d[g]=0;for(var g=0,h=0,b=0,i=this.elements.length,j=this.elements.item(g);i>g;++g,h=(h+1)%e,j=this.elements.item(g)){var k,l;k=h*c,h>0&&(k+=h*this.gutter),l=0|d[h],j.style.position="absolute",j.style.left=k+"px",j.style.top=l+"px",d[h]+=j.offsetHeight+this.gutter,d[h]>b&&(b=d[h])}b-=this.gutter,this.container.style.height=b+"px",this.container.style.width=a+"px"},a}()}