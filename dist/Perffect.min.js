window.Perffect||(window.Perffect=function(){function a(a){this.container=a.container,this.select=a.select||b(a.selector)||null,this.gutter=a.gutter||0,this.auto=a.notAuto||!0,this.elements=null,this.$rearrangePointer=this.rearrange.bind(this),this.$lastRAF=null,this.auto&&this.rearrange()}function b(a){return function(){return this.container.querySelectorAll(a)}.bind(this)}function c(a){return window.setTimeout(a,33)}function d(a,b,d){var e=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||c;return e(function(){a.apply(b,d)})}function e(a){var b=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitRequestAnimationFrame||window.clearTimeout;return b(a)}function f(a,b,c){var d,e,f,g,h;g=b.item(0).offsetWidth+c,d=a.offsetWidth,f=Math.trunc(d/g),f=f>b.length?b.length:f,e=(d-f*g-c)/2,h=new Array(f);for(var i=0;f>i;i++)h[i]=0;for(var i=0,j=0,k=b.length,l=b.item(i),m=0;k>i;++i,j=i%f,l=b.item(i)){var n,o;n=e+g*j,o=h[j],l.style.position="absolute",l.style.left=n+"px",l.style.top=o+"px",h[j]+=l.offsetHeight+c,h[j]>m&&(m=h[j])}m-=c,a.style.position="relative",a.style.height=m+"px"}return a.prototype.update=function(){this.elements=this.select(),Resizer.add(this.container,this.$rearrangePointer);for(var a=0,b=this.elements.length,c=this.elements.item(a);b>a;++a,c=this.elements.item(a))Resizer.add(c,this.$rearrangePointer)},a.prototype.rearrange=function(){this.$lastRAF&&e(this.$lastRAF),this.update(),d(f,null,[this.container,this.elements,this.gutter])},a}());